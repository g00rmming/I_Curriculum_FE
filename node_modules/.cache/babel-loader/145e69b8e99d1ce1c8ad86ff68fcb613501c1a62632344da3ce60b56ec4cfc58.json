{"ast":null,"code":"import axios from 'axios';\n\n// 타임아웃 30초\naxios.defaults.timeout = 30000;\naxios.interceptors.request.use(config => {\n  console.log(\"요청 전 \", config.url);\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n  console.log(\"응답이완료 \", response.config.url);\n  return response;\n}, error => {\n  // 프로그램 방식으로 컴포넌트 호출\n\n  if (error.response.status === 401) {\n    alert(error.response.status);\n    return Promise.reject(error);\n  }\n  if (error.response.status === 400) {\n    return Promise.reject(error);\n  }\n  // return Promise.reject(error);\n});\nconst token = localStorage.getItem('authorization');\nconst defaultHeader = {\n  'Content-Type': 'application/json',\n  'Accept': 'application/json',\n  'Authorization': `${token}`\n};\n\n// 토근을 받아와서 헤더를 생성할때의 기본 헤더\n// const tokenHeader = (token) => {\n//     return headers = {\n//         'Content-Type': 'application/json',\n//         'Authorization': `vRealizeOpsToken ${token}`,\n//         'Accept': 'application/json'\n//     };\n// }\nconst httpApi = {\n  get: function (url, opt) {\n    const apiOpt = {\n      url: url,\n      params: opt?.params ?? {},\n      headers: opt?.headers ?? defaultHeader\n    };\n    return new Promise((resolve, reject) => {\n      axios.get(url, {\n        params: apiOpt.params,\n        headers: apiOpt.headers\n      }).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n  post: function (url, body, opt) {\n    const apiOpt = {\n      url: url,\n      params: opt?.params ?? {},\n      headers: opt?.headers ?? defaultHeader,\n      body: body ?? {}\n    };\n    return new Promise((resolve, reject) => {\n      axios.post(url, apiOpt.body, {\n        params: apiOpt.params,\n        headers: apiOpt.headers\n      }).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n  delete: function (url, opt) {\n    const apiOpt = {\n      url: url,\n      params: opt?.params ?? {},\n      headers: opt?.headers ?? defaultHeader\n    };\n    return new Promise((resolve, reject) => {\n      axios.delete(url, {\n        params: apiOpt.params,\n        headers: apiOpt.headers\n      }).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n  put: function (url, body, opt) {\n    const apiOpt = {\n      url: url,\n      params: opt?.params ?? {},\n      headers: opt?.headers ?? defaultHeader,\n      body: body ?? {}\n    };\n    return new Promise((resolve, reject) => {\n      axios.put(url, apiOpt.body, {\n        params: apiOpt.params,\n        headers: apiOpt.headers\n      }).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  },\n  patch: function (url, body, opt) {\n    const apiOpt = {\n      url: url,\n      params: opt?.params ?? {},\n      headers: opt?.headers ?? defaultHeader,\n      body: body ?? {}\n    };\n    return new Promise((resolve, reject) => {\n      axios.patch(url, apiOpt.body, {\n        params: apiOpt.params,\n        headers: apiOpt.headers\n      }).then(response => {\n        resolve(response);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  }\n};\nexport default httpApi;","map":{"version":3,"names":["axios","defaults","timeout","interceptors","request","use","config","console","log","url","error","Promise","reject","response","status","alert","token","localStorage","getItem","defaultHeader","httpApi","get","opt","apiOpt","params","headers","resolve","then","catch","post","body","delete","put","patch"],"sources":["/Users/gimdongha/Desktop/cloudcomputing/i-curriculum_FE/src/utils/http/index.js"],"sourcesContent":["import axios from 'axios';\n\n// 타임아웃 30초\naxios.defaults.timeout = 30000;\naxios.interceptors.request.use(config => {\n    console.log(\"요청 전 \", config.url);\n    return config;\n}, error => {\n    return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n    console.log(\"응답이완료 \", response.config.url);\n    return response;\n}, error => {\n    // 프로그램 방식으로 컴포넌트 호출\n    \n    if(error.response.status===401) {\n        alert(error.response.status)\n        return Promise.reject(error);\n    }\n    if(error.response.status===400){\n        return Promise.reject(error);\n    }\n    // return Promise.reject(error);\n});\n\nconst token=localStorage.getItem('authorization');\nconst defaultHeader = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': `${token}`,\n}\n\n\n// 토근을 받아와서 헤더를 생성할때의 기본 헤더\n// const tokenHeader = (token) => {\n//     return headers = {\n//         'Content-Type': 'application/json',\n//         'Authorization': `vRealizeOpsToken ${token}`,\n//         'Accept': 'application/json'\n//     };\n// }\nconst httpApi = {\n    get: function (url, opt) {\n        const apiOpt = {\n            url: url,\n            params: opt?.params ?? {},\n            headers: opt?.headers ?? defaultHeader\n        }\n        return new Promise((resolve, reject) => {\n            axios.get(url, {\n                params: apiOpt.params,\n                headers: apiOpt.headers\n            }).then((response) => {\n                resolve(response);\n            }).catch((error) => {\n                reject(error);\n            })\n        })\n    },\n    post: function (url, body, opt) {\n        const apiOpt = {\n            url: url,\n            params: opt?.params ?? {},\n            headers: opt?.headers ?? defaultHeader,\n            body: body ?? {}\n        }\n        return new Promise((resolve, reject) => {\n            axios.post(url, apiOpt.body, {\n                params: apiOpt.params,\n                headers: apiOpt.headers\n            }).then((response) => {\n                resolve(response);\n            }).catch((error) => {\n                reject(error);\n            })\n        })\n    },\n    delete: function (url, opt) {\n        const apiOpt = {\n            url: url,\n            params: opt?.params ?? {},\n            headers: opt?.headers ?? defaultHeader\n        }\n        return new Promise((resolve, reject) => {\n            axios.delete(url, {\n                params: apiOpt.params,\n                headers: apiOpt.headers\n            }).then((response) => {\n                resolve(response);\n            }).catch((error) => {\n                reject(error);\n            })\n        })\n    },\n    put: function (url, body, opt) {\n        const apiOpt = {\n            url: url,\n            params: opt?.params ?? {},\n            headers: opt?.headers ?? defaultHeader,\n            body: body ?? {}\n        }\n        return new Promise((resolve, reject) => {\n            axios.put(url, apiOpt.body, {\n                params: apiOpt.params,\n                headers: apiOpt.headers\n            }).then((response) => {\n                resolve(response);\n            }).catch((error) => {\n                reject(error);\n            })\n        })\n    },\n    patch: function (url, body, opt) {\n        const apiOpt = {\n            url: url,\n            params: opt?.params ?? {},\n            headers: opt?.headers ?? defaultHeader,\n            body: body ?? {}\n        }\n        return new Promise((resolve, reject) => {\n            axios.patch(url, apiOpt.body, {\n                params: apiOpt.params,\n                headers: apiOpt.headers\n            }).then((response) => {\n                resolve(response);\n            }).catch((error) => {\n                reject(error);\n            })\n        })\n    }\n}\n\nexport default httpApi;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}