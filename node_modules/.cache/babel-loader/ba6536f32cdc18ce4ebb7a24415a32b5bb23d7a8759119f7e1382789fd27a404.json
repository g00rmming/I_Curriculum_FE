{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"card\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", {\n  class: \"card-title\"\n}, \"이수체계도\")], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"text-secondary\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"text-danger\"\n};\nconst _hoisted_6 = {\n  key: 2\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = {\n  key: 2,\n  class: \"text-secondary\"\n};\nconst _hoisted_10 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [$data.loading ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, \"Loading...\")) : _createCommentVNode(\"v-if\", true), $data.error ? (_openBlock(), _createElementBlock(\"p\", _hoisted_5, \"Error loading data\")) : _createCommentVNode(\"v-if\", true), $data.url ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [$options.isImage($data.url) ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $data.url,\n    alt: \"Curriculum Diagram\",\n    class: \"img-fluid\"\n  }, null, 8 /* PROPS */, _hoisted_7)) : $options.isPDF($data.url) ? (_openBlock(), _createElementBlock(\"embed\", {\n    key: 1,\n    src: $data.url,\n    type: \"application/pdf\",\n    width: \"100%\",\n    height: \"600px\"\n  }, null, 8 /* PROPS */, _hoisted_8)) : (_openBlock(), _createElementBlock(\"p\", _hoisted_9, [_createElementVNode(\"a\", {\n    href: $data.url,\n    target: \"_blank\"\n  }, _toDisplayString($data.url), 9 /* TEXT, PROPS */, _hoisted_10)]))])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","loading","_hoisted_4","_createCommentVNode","error","_hoisted_5","url","_hoisted_6","$options","isImage","src","alt","_hoisted_7","isPDF","type","width","height","_hoisted_8","_hoisted_9","href","target","_hoisted_10"],"sources":["/Users/gimdongha/Desktop/cloudcomputing/i-curriculum_FE/src/views/mypage/CurriculumDiagram.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h3 class=\"card-title\">이수체계도</h3>\n      </div>\n      <div class=\"card-body\">\n        <p v-if=\"loading\" class=\"text-secondary\">Loading...</p>\n        <p v-if=\"error\" class=\"text-danger\">Error loading data</p>\n        <div v-if=\"url\">\n          <img v-if=\"isImage(url)\" :src=\"url\" alt=\"Curriculum Diagram\" class=\"img-fluid\"/>\n          <embed v-else-if=\"isPDF(url)\" :src=\"url\" type=\"application/pdf\" width=\"100%\" height=\"600px\"/>\n          <p v-else class=\"text-secondary\">\n            <a :href=\"url\" target=\"_blank\">{{ url }}</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    inject: ['$axios'],\n    data() {\n      return {\n        url: null, // API에서 가져온 URL을 저장할 데이터 속성\n        loading: false,\n        error: null,\n      };\n    },\n    mounted() {\n      this.fetchUrl(); // 컴포넌트가 마운트될 때 API 호출\n    },\n    methods: {\n      fetchUrl() {\n        this.loading = true;\n        const userId = localStorage.getItem('memberId');\n        this.$axios.get('/api/v1/curriculum/diagram', {\n          params: {\n            memberId: userId // 실제 사용자 ID를 사용\n          }\n        })\n        .then(response => {\n          this.url = response.data.result.url; // 응답에서 URL 추출\n          this.loading = false;\n        })\n        .catch(error => {\n          console.error('Error fetching URL:', error);\n          this.error = 'Failed to load data';\n          this.loading = false;\n        });\n      },\n      isImage(url) {\n        return url.match(/\\.(jpeg|jpg|gif|png)$/) != null;\n      },\n      isPDF(url) {\n        return url.match(/\\.(pdf)$/) != null;\n      }\n    }\n  }\n  </script>\n  \n  <style>\n  .card-body {\n    padding: 20px; /* 필요에 따라 패딩 조정 */\n  }\n  .img-fluid {\n    max-width: 100%;\n    height: auto;\n  }\n  .text-danger {\n    color: red;\n  }\n  </style>\n  "],"mappings":";;EACSA,KAAK,EAAC;AAAM;gCACfC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAa,I,aACtBC,mBAAA,CAAiC;EAA7BD,KAAK,EAAC;AAAY,GAAC,OAAK,E;;EAEzBA,KAAK,EAAC;AAAW;;EAL5BE,GAAA;EAM0BF,KAAK,EAAC;;;EANhCE,GAAA;EAOwBF,KAAK,EAAC;;;EAP9BE,GAAA;AAAA;mBAAA;mBAAA;;EAAAA,GAAA;EAWoBF,KAAK,EAAC;;oBAX1B;;uBACIG,mBAAA,CAeM,OAfNC,UAeM,GAdJC,UAEM,EACNJ,mBAAA,CAUM,OAVNK,UAUM,GATKC,KAAA,CAAAC,OAAO,I,cAAhBL,mBAAA,CAAuD,KAAvDM,UAAuD,EAAd,YAAU,KAN3DC,mBAAA,gBAOiBH,KAAA,CAAAI,KAAK,I,cAAdR,mBAAA,CAA0D,KAA1DS,UAA0D,EAAtB,oBAAkB,KAP9DF,mBAAA,gBAQmBH,KAAA,CAAAM,GAAG,I,cAAdV,mBAAA,CAMM,OAddW,UAAA,GASqBC,QAAA,CAAAC,OAAO,CAACT,KAAA,CAAAM,GAAG,K,cAAtBV,mBAAA,CAAgF;IAT1FD,GAAA;IASoCe,GAAG,EAAEV,KAAA,CAAAM,GAAG;IAAEK,GAAG,EAAC,oBAAoB;IAAClB,KAAK,EAAC;0BAT7EmB,UAAA,KAU4BJ,QAAA,CAAAK,KAAK,CAACb,KAAA,CAAAM,GAAG,K,cAA3BV,mBAAA,CAA6F;IAVvGD,GAAA;IAUyCe,GAAG,EAAEV,KAAA,CAAAM,GAAG;IAAEQ,IAAI,EAAC,iBAAiB;IAACC,KAAK,EAAC,MAAM;IAACC,MAAM,EAAC;0BAV9FC,UAAA,M,cAWUrB,mBAAA,CAEI,KAFJsB,UAEI,GADFxB,mBAAA,CAA4C;IAAxCyB,IAAI,EAAEnB,KAAA,CAAAM,GAAG;IAAEc,MAAM,EAAC;sBAAYpB,KAAA,CAAAM,GAAG,wBAZjDe,WAAA,E,QAAAlB,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}