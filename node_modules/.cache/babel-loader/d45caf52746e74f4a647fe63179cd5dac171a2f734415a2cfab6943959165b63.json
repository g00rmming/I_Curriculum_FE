{"ast":null,"code":"export default {\n  inject: ['$axios'],\n  data() {\n    return {\n      url: null,\n      // API에서 가져온 URL을 저장할 데이터 속성\n      loading: false,\n      error: null\n    };\n  },\n  mounted() {\n    this.fetchUrl(); // 컴포넌트가 마운트될 때 API 호출\n  },\n  methods: {\n    fetchUrl() {\n      this.loading = true;\n      const userId = localStorage.getItem('memberId');\n      this.$axios.get('/v1/curriculum/diagram', {\n        params: {\n          memberId: userId // 실제 사용자 ID를 사용\n        }\n      }).then(response => {\n        this.url = response.data.result.url; // 응답에서 URL 추출\n        this.loading = false;\n      }).catch(error => {\n        console.error('Error fetching URL:', error);\n        this.error = 'Failed to load data';\n        this.loading = false;\n      });\n    },\n    isImage(url) {\n      return url.match(/\\.(jpeg|jpg|gif|png)$/) != null;\n    },\n    isPDF(url) {\n      return url.match(/\\.(pdf)$/) != null;\n    }\n  }\n};","map":{"version":3,"names":["inject","data","url","loading","error","mounted","fetchUrl","methods","userId","localStorage","getItem","$axios","get","params","memberId","then","response","result","catch","console","isImage","match","isPDF"],"sources":["/Users/gimdongha/Desktop/cloudcomputing/i-curriculum_FE/src/views/mypage/CurriculumDiagram.vue"],"sourcesContent":["<template>\n    <div class=\"card\">\n      <div class=\"card-header\">\n        <h3 class=\"card-title\">교과과정표</h3>\n      </div>\n      <div class=\"card-body\">\n        <p v-if=\"loading\" class=\"text-secondary\">Loading...</p>\n        <p v-if=\"error\" class=\"text-danger\">Error loading data</p>\n        <div v-if=\"url\">\n          <img v-if=\"isImage(url)\" :src=\"url\" alt=\"Curriculum Diagram\" class=\"img-fluid\"/>\n          <embed v-else-if=\"isPDF(url)\" :src=\"url\" type=\"application/pdf\" width=\"100%\" height=\"600px\"/>\n          <p v-else class=\"text-secondary\">\n            <a :href=\"url\" target=\"_blank\">{{ url }}</a>\n          </p>\n        </div>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    inject: ['$axios'],\n    data() {\n      return {\n        url: null, // API에서 가져온 URL을 저장할 데이터 속성\n        loading: false,\n        error: null,\n      };\n    },\n    mounted() {\n      this.fetchUrl(); // 컴포넌트가 마운트될 때 API 호출\n    },\n    methods: {\n      fetchUrl() {\n        this.loading = true;\n        const userId = localStorage.getItem('memberId');\n        this.$axios.get('/v1/curriculum/diagram', {\n          params: {\n            memberId: userId // 실제 사용자 ID를 사용\n          }\n        })\n        .then(response => {\n          this.url = response.data.result.url; // 응답에서 URL 추출\n          this.loading = false;\n        })\n        .catch(error => {\n          console.error('Error fetching URL:', error);\n          this.error = 'Failed to load data';\n          this.loading = false;\n        });\n      },\n      isImage(url) {\n        return url.match(/\\.(jpeg|jpg|gif|png)$/) != null;\n      },\n      isPDF(url) {\n        return url.match(/\\.(pdf)$/) != null;\n      }\n    }\n  }\n  </script>\n  \n  <style>\n  .card-body {\n    padding: 20px; /* 필요에 따라 패딩 조정 */\n  }\n  .img-fluid {\n    max-width: 100%;\n    height: auto;\n  }\n  .text-danger {\n    color: red;\n  }\n  </style>\n  "],"mappings":"AAoBE,eAAe;EACbA,MAAM,EAAE,CAAC,QAAQ,CAAC;EAClBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,IAAI;MAAE;MACXC,OAAO,EAAE,KAAK;MACdC,KAAK,EAAE;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,QAAQ,CAAC,CAAC,EAAE;EACnB,CAAC;EACDC,OAAO,EAAE;IACPD,QAAQA,CAAA,EAAG;MACT,IAAI,CAACH,OAAM,GAAI,IAAI;MACnB,MAAMK,MAAK,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MAC/C,IAAI,CAACC,MAAM,CAACC,GAAG,CAAC,wBAAwB,EAAE;QACxCC,MAAM,EAAE;UACNC,QAAQ,EAAEN,MAAK,CAAE;QACnB;MACF,CAAC,EACAO,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACd,GAAE,GAAIc,QAAQ,CAACf,IAAI,CAACgB,MAAM,CAACf,GAAG,EAAE;QACrC,IAAI,CAACC,OAAM,GAAI,KAAK;MACtB,CAAC,EACAe,KAAK,CAACd,KAAI,IAAK;QACde,OAAO,CAACf,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,IAAI,CAACA,KAAI,GAAI,qBAAqB;QAClC,IAAI,CAACD,OAAM,GAAI,KAAK;MACtB,CAAC,CAAC;IACJ,CAAC;IACDiB,OAAOA,CAAClB,GAAG,EAAE;MACX,OAAOA,GAAG,CAACmB,KAAK,CAAC,uBAAuB,KAAK,IAAI;IACnD,CAAC;IACDC,KAAKA,CAACpB,GAAG,EAAE;MACT,OAAOA,GAAG,CAACmB,KAAK,CAAC,UAAU,KAAK,IAAI;IACtC;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}